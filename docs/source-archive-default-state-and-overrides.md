---
Title: "Source Archive Default State & Override Specification"
Slug: "source-archive-default-state-and-overrides"
Description: "A unified specification defining the default desired state of source archives and the rules for archive-specific overrides, as enforced by the global Source Archive Tools."
Author: "Christopher Steel"
Date: "2025-11-17"
Last_Modified_Date: "2025-11-17"
License: "CC BY-SA 4.0"
Tags:
- "source archives"
- "specification"
- "defaults"
- "overrides"
- "architecture"
URL: ""
Path: "tools/docs/source-archive-default-state-and-overrides,md"
Canonical: ""
Sitemap: "true"
Keywords:
- "archive specification"
- "default state"
- "override rules"
- "accessibility"
- "idempotency"
DC_Title: "Source Archive Default State & Override Specification"
DC_Creator: "Christopher Steel"
DC_Subject: "Unified specification describing the default state of source archives and permissible override behaviors."
DC_Description: "A formal document defining the desired state of all source archives, the tools that enforce that state, and controlled override rules for archive-level customization."
DC_Language: "en"
DC_License: "https://creativecommons.org/licenses/by-sa/4.0/"
DC_Contributor: "ChatGPT-4 (OpenAI)"
DC_RightsHolder: "Christopher Steel & ChatGPT-4 (OpenAI)"
Robots: "index, follow"
OG_Title: "Source Archive Default State & Override Specification"
OG_Description: "Specification defining global defaults and permitted overrides for source archives."
OG_URL: ""
OG_Image: ""
Schema:
  "@context": "https://schema.org"
  "@type": "TechArticle"
  creator: "Christopher Steel"
  contributor: "ChatGPT-4 (OpenAI)"
Video_Metadata: {}
---

# Source Archive Default State & Override Specification

This specification defines the **default desired state** of all source archives produced and maintained by the Source Archive Tools. It also defines the **controlled override mechanisms** available to individual archives. The Source Archive Tools provide both a declarative description of the desired state and the operational machinery required to maintain that state over time.

<a name="wcag-w3c-2023-citation"></a>
Accessibility is treated as an essential requirement for all archives and tooling, guided by the Web Content Accessibility Guidelines (WCAG) 2.2 [(W3C, 2023)](#wcag-w3c-2023-reference).

<a name="fielding-2000-citation"></a>
All operations must be idempotent, consistent with established definitions from REST architectural principles [(Fielding, 2000)](#fielding-2000-reference).

<a name="newman-2015-citation"></a>
The tool’s extensibility model adopts a modular plugin architecture informed by practices in microservice-based systems [(Newman, 2015)](#newman-2015-reference).

<a name="ben-kiki-evans-ingerson-2009-citation"></a>
YAML front matter must conform to the YAML 1.2 specification, with internal constraints defined by project requirements [(Ben-Kiki, Evans, & Ingerson, 2009)](#ben-kiki-evans-ingerson-2009-reference).

<a name="dublin-core-2012-citation"></a>
Core metadata fields derive from Dublin Core Metadata Element Set standards [(Dublin Core Metadata Initiative, 2012)](#dublin-core-2012-reference).

<a name="guha-brickley-macbeth-2016-citation"></a>
Semantic metadata aligns with Schema.org conventions for structured web documents [(Guha, Brickley, & MacBeth, 2016)](#guha-brickley-macbeth-2016-reference).

# Purpose of the Specification

This document establishes:

- The **default state** of every source archive.  
- The responsibilities of the **Source Archive Tools** in creating and maintaining that state.  
- The **permitted override surface** for individual archives.  
- The **invariants** that may never be overridden.  
- The built-in requirements of **accessibility**, **idempotency**, and **plugin-based extensibility**.  

The specification ensures that archives remain consistent, maintainable, and interoperable, even as individual archives customize their behavior.

# Default Desired State of All Source Archives

Every archive generated by the Source Archive Tools must include the following:

## Directory Structure

All archives must contain:

```
archive/
  config/
  en-ca/
  fr-ca/           (or other locale directories)
  taxonomy/
```

Characteristics:

- Locale directories reflect ISO language–region codes.  
- Directory names must be lowercase, hyphen-separated.  
- The taxonomy directory provides cross-language concepts.  
- Archives must remain multilingual, even if some translations are empty.

## Metadata Requirements

Every document must contain a single YAML front matter block:

- All values double-quoted (unless list or map).  
- No folded or multiline scalars.  
- No embedded comments.  
- No blank lines within the block.  
- Canonical key ordering defined by global specifications.  
- Dublin Core, Schema.org, and internal metadata fields must be present.  

## Accessibility Requirements

Accessible output must:

- Use semantic Markdown structures.  
- Avoid ambiguous or overly visual formatting.  
- Include descriptive language and predictable patterns.  
- Maintain consistent title, heading, and metadata formats.  

WCAG principles apply to:

- CLI output  
- Generated Markdown  
- Templates  
- Documentation  
- Plugin behaviors  

## Idempotent Operations

All global tools must behave predictably:

- Running metadata injection twice produces identical results.  
- Running initialization twice does not break existing archives.  
- Validators must not modify content unless explicitly configured to do so.  
- Plugin executions must be side-effect free unless documented otherwise.  

## Plugin Architecture

The system must support:

- Drop-in feature modules (“plugins”).  
- Zero modification to the core tool to add plugins.  
- Clear plugin interfaces and lifecycle hooks.  
- Plugin-specific configuration defined in archive-level or tool-level settings.  

Examples of plugins include:

- Metadata validators  
- Front matter injectors  
- Bibliography extractors  
- Translation synchronizers  
- Linting and formatting modules  

# Archive-Level Overrides

Individual archives may override components of the default desired state through:

```
archive/config/
  structure.yml
  project.yml
  languages.yml
  templates/
  hooks/
```

Overrides may include:

- Additional metadata fields  
- Archive-specific descriptions or categories  
- Localized template text  
- Modified structure.yml to adjust content distribution  
- Archive-specific hooks (before/after metadata injection)  
- Local plugin activation/deactivation  

Archives may extend but not violate the global specification.  

# Restrictions on Overrides

The following components **cannot** be overridden at the archive level:

- Required metadata fields.  
- Canonical YAML formatting rules.  
- Accessibility standards.  
- Idempotency behavior.  
- Global key ordering.  
- Prohibition of folded/multiline YAML scalars.  
- Path–URL derivation logic.  
- Schema.org and Dublin Core field mappings.  
- Required translator relationships between locale directories.  

These form the guaranteed invariants across all archives.

# Role of Global Tools in Enforcing the Default State

The Source Archive Tools enforce this specification through:

- Template generation  
- Canonical YAML front matter injection  
- Validators for metadata and directory structure  
- Watchers for live updates  
- Plugin loading and execution  
- Global configuration inheritance  

These tools define the **default desired state** directly through logic and configuration.

Archive-level overrides provide customization without fragmenting system-wide consistency.

# Life Cycle of an Archive

1. **Initialization**  
   The tool creates the required directory tree, templates, and metadata.

2. **Population**  
   Contributors add content in any language.

3. **Transformation**  
   Metadata injectors and plugins enforce the desired state.

4. **Validation**  
   Validators confirm compliance with standards and specifications.

5. **Propagation**  
   Plugin-based tools synchronize translations, update paths, or regenerate metadata.

6. **Maintenance**  
   Idempotent tooling ensures consistent behavior across updates.

# Conclusion

The Source Archive Tools define the authoritative default state of all source archives. Archives may override certain elements through local configuration, but they must always conform to the global specification’s structural, accessibility, metadata, idempotency, and semantic requirements. This approach ensures long-term consistency, maintainability, and extensibility across evolving multilingual archives.

# References

<a name="wcag-w3c-2023-reference"></a>
World Wide Web Consortium. (2023). *Web Content Accessibility Guidelines (WCAG) 2.2*. W3C. https://www.w3.org/TR/WCAG22/  
[Return to citation](#wcag-w3c-2023-citation)

<a name="fielding-2000-reference"></a>
Fielding, R. T. (2000). *Architectural Styles and the Design of Network-based Software Architectures* (Doctoral dissertation, University of California, Irvine).  
[Return to citation](#fielding-2000-citation)

<a name="newman-2015-reference"></a>
Newman, S. (2015). *Building Microservices*. O’Reilly Media.  
[Return to citation](#newman-2015-citation)

<a name="ben-kiki-evans-ingerson-2009-reference"></a>
Ben-Kiki, O., Evans, C., & Ingerson, B. (2009). *YAML Ain’t Markup Language (YAML™) Version 1.2*. YAML.org. https://yaml.org/spec/1.2/spec.html  
[Return to citation](#ben-kiki-evans-ingerson-2009-citation)

<a name="dublin-core-2012-reference"></a>
Dublin Core Metadata Initiative. (2012). *Dublin Core Metadata Element Set, Version 1.1*. DCMI. https://dublincore.org/specifications/dublin-core/dces/  
[Return to citation](#dublin-core-2012-citation)

<a name="guha-brickley-macbeth-2016-reference"></a>
Guha, R. V., Brickley, D., & MacBeth, S. (2016). *Schema.org: Evolution of Structured Data on the Web*. Communications of the ACM, 59(2), 44–51. https://doi.org/10.1145/2844544  
[Return to citation](#guha-brickley-macbeth-2016-citation)

## License

This document, *Source Archive Default State & Override Specification*, by **Christopher Steel**, with AI assistance from **ChatGPT-4 (OpenAI)**, is licensed under the [Creative Commons Attribution-ShareAlike 4.0 License](https://creativecommons.org/licenses/by-sa/4.0/).

![CC License](https://mirrors.creativecommons.org/presskit/buttons/88x31/svg/by-sa.svg)